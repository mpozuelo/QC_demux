extra_fn_clean_exts:
  - type: regex
    pattern: ".sorted|_woUMI|_QC|_RUN[0-9]+_L0[0-9]|_RUN[0-9]+_[a-zA-Z]+_L0[0-9]|_V3000[0-9]+_L0[0-9]|_val_[1,2]"

report_comment: >
    This report has been generated by Genomics Unit from CIMA Universidad de Navarra.
# Run only these modules
custom_logo: "Logo_IdisNA_CIMA.png"

run_modules:
    - custom_content
    - fastqc
    - cutadapt
    - star
    - samtools
    - picard
    - rseqc

module_order:
    - fastqc:
        name: 'FastQC (raw)'
        info: 'This section of the report shows FastQC results before adapter trimming.'
        path_filters:
            - './fastqc/*.zip'
    - cutadapt
    - fastqc:
        name: 'FastQC (trimmed)'
        info: 'This section of the report shows FastQC results after adapter trimming.'
        path_filters:
            - './trimgalore/fastqc/*.zip'

# Move custom-content sections to the bottom of the report
report_section_order:
    software_versions:
        order: -1000
    mpozuelo-QC_demux-summary:
        order: -1100


# Customise the module search patterns to speed up execution time
#  - Skip module sub-tools that we are not interested in
#  - Replace file-content searching with filename pattern searching
#  - Don't add anything that is the same as the MultiQC default
# See https://multiqc.info/docs/#optimise-file-search-patterns for details
sp:
    cutadapt:
        fn: '*report.txt'

    samtools/stats:
        fn: '*.stats'

    rseqc/bam_stat:
        fn: '*.bam_stat.txt'

    picard/markdups:
        fn: '*.MarkDuplicates.metrics.txt'
    picard/quality_score_distribution:
        fn: '*.sort.qual_score_dist.txt'



# See https://github.com/ewels/MultiQC_TestData/blob/master/data/custom_content/with_config/table_headerconfig/multiqc_config.yaml
#custom_data:
#    fail_mapped_samples:
#        section_name: 'WARNING: Fail Alignment Check'
#        description: "List of samples that failed the STAR minimum mapped reads threshold specified via the '--min_mapped_reads' parameter"
#        plot_type: 'table'
#        pconfig:
#            id: 'fail_mapped_samples_table'
#            table_title: 'Samples failed mapping threshold'
#            namespace: 'Samples failed mapping threshold'
#            format: '{:.2f}'
